<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Jakarta EE Documentation</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Jakarta EE Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jakarta-ee-docs" data-version="9.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jakarta EE Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security-intro/security-intro.html">Introduction to Security in the Jakarta EE Platform</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security-webtier/security-webtier.html">Getting Started Securing Web Applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security-jakartaee/security-jakartaee.html">Getting Started Securing Enterprise Applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security-api/security-api.html">Using Jakarta Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security-advanced.html">Jakarta EE Security: Advanced Topics</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jakarta EE Documentation</span>
    <span class="version">9.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../../current/index.html">Jakarta EE Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../current/index.html">10</a>
        </li>
        <li class="version is-current">
          <a href="../../index.html">9.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../jakarta-security-spec/current/security-spec.html">Jakarta Security Specification</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../jakarta-security-spec/current/security-spec.html">3</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../current/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">9.1</button>
  <div class="version-menu">
    <a class="version" href="../../../current/security/security-advanced/security-advanced006.html">10</a>
    <a class="version is-current" href="security-advanced006.html">9.1</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/virtua-tech/jakartaee-tutorial/edit/antora-prototype-9.1/src/main/docs/modules/security/pages/security-advanced/security-advanced006.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_securing_enterprise_information_systems_applications"><a class="anchor" href="#_securing_enterprise_information_systems_applications"></a>Securing Enterprise Information Systems Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Enterprise Information Systems (EIS) applications, components request a connection to an EIS resource.</p>
</div>
<div class="sect2">
<h3 id="_overview_of_securing_enterprise_information_systems_applications"><a class="anchor" href="#_overview_of_securing_enterprise_information_systems_applications"></a>Overview of Securing Enterprise Information Systems Applications</h3>
<div class="paragraph">
<p>As part of this connection, the EIS can require a sign-on for the requester to access the resource.
The application component provider has two choices for the design of the EIS sign-on.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Container-managed sign-on: The application component lets the container take the responsibility of configuring and managing the EIS sign-on.
The container determines the user name and password for establishing a connection to an EIS instance.</p>
</li>
<li>
<p>Component-managed sign-on: The application component code manages EIS sign-on by including code that performs the sign-on process to an EIS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also configure security for resource adapters.
See <a href="#_configuring_resource_adapter_security">Configuring Resource Adapter Security</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_container_managed_sign_on"><a class="anchor" href="#_container_managed_sign_on"></a>Container-Managed Sign-On</h3>
<div class="paragraph">
<p>In container-managed sign-on, an application component does not have to pass any sign-on security information to the <code>getConnection()</code> method.
The security information is supplied by the container, as shown in the following example (the method call is highlighted in bold):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Business method in an application component
Context initctx = new InitialContext();
// Perform JNDI lookup to obtain a connection factory
jakarta.resource.cci.ConnectionFactory cxf =
    (jakarta.resource.cci.ConnectionFactory)initctx.lookup(
    "java:comp/env/eis/MainframeCxFactory");
// Invoke factory to obtain a connection. The security
// information is not passed in the getConnection method
jakarta.resource.cci.Connection cx = cxf.getConnection();
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_component_managed_sign_on"><a class="anchor" href="#_component_managed_sign_on"></a>Component-Managed Sign-On</h3>
<div class="paragraph">
<p>In component-managed sign-on, an application component is responsible for passing the needed sign-on security information for the resource to the <code>getConnection</code> method.
For example, security information might be a user name and password, as shown here (the method call is highlighted in bold):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Method in an application component
Context initctx = new InitialContext();

// Perform JNDI lookup to obtain a connection factory
jakarta.resource.cci.ConnectionFactory cxf =
    (jakarta.resource.cci.ConnectionFactory)initctx.lookup(
    "java:comp/env/eis/MainframeCxFactory");

// Get a new ConnectionSpec
com.myeis.ConnectionSpecImpl properties = //..

// Invoke factory to obtain a connection
properties.setUserName("...");
properties.setPassword("...");
jakarta.resource.cci.Connection cx =
    cxf.getConnection(properties);
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_resource_adapter_security"><a class="anchor" href="#_configuring_resource_adapter_security"></a>Configuring Resource Adapter Security</h3>
<div class="paragraph">
<p>A resource adapter is a system-level software component that typically implements network connectivity to an external resource manager.
A resource adapter can extend the functionality of the Jakarta EE platform either by implementing one of the Jakarta EE standard service APIs, such as a JDBC driver, or by defining and implementing a resource adapter for a connector to an external application system.
Resource adapters can also provide services that are entirely local, perhaps interacting with native resources.
Resource adapters interface with the Jakarta EE platform through the Jakarta EE service provider interfaces (Jakarta EE SPI).
A resource adapter that uses the Jakarta EE SPIs to attach to the Jakarta EE platform will be able to work with all Jakarta EE products.</p>
</div>
<div class="paragraph">
<p>To configure the security settings for a resource adapter, you need to edit the resource adapter descriptor file, <code>ra.xml</code>.
Here is an example of the part of an <code>ra.xml</code> file that configures security properties for a resource adapter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;authentication-mechanism&gt;
    &lt;authentication-mechanism-type&gt;
        BasicPassword
    &lt;/authentication-mechanism-type&gt;
    &lt;credential-interface&gt;
        jakarta.resource.spi.security.PasswordCredential
    &lt;/credential-interface&gt;
&lt;/authentication-mechanism&gt;
&lt;reauthentication-support&gt;false&lt;/reauthentication-support&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find out more about the options for configuring resource adapter security by reviewing <code><em>as-install</em>/lib/schemas/connector_2_0.xsd</code>.
You can configure the following elements in the resource adapter deployment descriptor file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Authentication mechanisms: Use the <code>authentication-mechanism</code> element to specify an authentication mechanism supported by the resource adapter.
This support is for the resource adapter, not for the underlying EIS instance.</p>
<div class="paragraph">
<p>There are two supported mechanism types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BasicPassword</code>, which supports the following interface:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakarta.resource.spi.security.PasswordCredential</code></pre>
</div>
</div>
</li>
<li>
<p><code>Kerbv5</code>, which supports the following interface:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakarta.resource.spi.security.GenericCredential</code></pre>
</div>
</div>
<div class="paragraph">
<p>GlassFish Server does not currently support this mechanism type.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Reauthentication support: Use the <code>reauthentication-support</code> element to specify whether the resource adapter implementation supports reauthentication of existing <code>Managed-Connection</code> instances.
Options are <code>true</code> or <code>false</code>.</p>
</li>
<li>
<p>Security permissions: Use the <code>security-permission</code> element to specify a security permission that is required by the resource adapter code.
Support for security permissions is optional and is not supported in the current release of GlassFish Server.
You can, however, manually update the <code>server.policy</code> file to add the relevant permissions for the resource adapter.</p>
<div class="paragraph">
<p>The security permissions listed in the deployment descriptor are different from those required by the default permission set as specified in the connector specification.</p>
</div>
<div class="paragraph">
<p>For more information on the implementation of the security permission specification, see the security policy file documentation listed in <a href="#_further_information_about_advanced_security_topics">[_further_information_about_advanced_security_topics]</a>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to specifying resource adapter security in the <code>ra.xml</code> file, you can create a security map for a connector connection pool to map an application principal or a user group to a back-end EIS principal.
The security map is usually used if one or more EIS back-end principals are used to execute operations (on the EIS) initiated by various principals or user groups in the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_an_application_principal_to_eis_principals"><a class="anchor" href="#_mapping_an_application_principal_to_eis_principals"></a>Mapping an Application Principal to EIS Principals</h3>
<div class="paragraph">
<p>When using GlassFish Server, you can use security maps to map the caller identity of the application (principal or user group) to a suitable EIS principal in container-managed transaction-based scenarios.
When an application principal initiates a request to an EIS, GlassFish Server first checks for an exact principal by using the security map defined for the connector connection pool to determine the mapped back-end EIS principal.
If there is no exact match, GlassFish Server uses the wildcard character specification, if any, to determine the mapped back-end EIS principal.
Security maps are used when an application user needs to execute an EIS operation that requires execution as a specific identity in the EIS.</p>
</div>
<div class="paragraph">
<p>To work with security maps, use the Administration Console.
From the Administration Console, follow these steps to get to the security maps page.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the navigation tree, expand the Resources node.</p>
</li>
<li>
<p>Expand the Connectors node.</p>
</li>
<li>
<p>Select the Connector Connection Pools node.</p>
</li>
<li>
<p>On the Connector Connection Pools page, click the name of the connection pool for which you want to create a security map.</p>
</li>
<li>
<p>Click the Security Maps tab.</p>
</li>
<li>
<p>Click New to create a new security map for the connection pool.</p>
</li>
<li>
<p>Enter a name by which you will refer to the security map, as well as the other required information.</p>
<div class="paragraph">
<p>Click Help for more information on the individual options.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
